1
00:00:00,000 --> 00:00:03,900
068 专辑封面匹配小游戏 - 实现再玩一次功能
（翻译：Elenore）

2
00:00:04,800 --> 00:00:07,661
我们的核心功能快就做完啦

3
00:00:07,662 --> 00:00:10,360
现在来考虑一下

4
00:00:10,360 --> 00:00:13,061
当一局快玩完时要做些什么呢

5
00:00:13,062 --> 00:00:15,721
我们给用户准备了一个“再玩一次”的按钮

6
00:00:15,722 --> 00:00:16,901
当他们点击时将会发生什么呢？

7
00:00:16,902 --> 00:00:21,901
我们要清空所有，然后重新放置内容

8
00:00:22,002 --> 00:00:23,640
抓取新的歌

9
00:00:23,640 --> 00:00:28,701
刷新应用的状态什么的

10
00:00:28,702 --> 00:00:33,101
好吧我们开始做吧

11
00:00:33,102 --> 00:00:35,341
我要做的第一件事是

12
00:00:35,342 --> 00:00:40,331
我们要……

13
00:00:40,332 --> 00:00:42,803
实现这个再玩一次按钮的点击事件

14
00:00:42,804 --> 00:00:45,923
我准备在这里……

15
00:00:45,924 --> 00:00:51,520
设置一个PrepareNewGame方法

16
00:00:51,524 --> 00:00:54,903
还要添加一个await关键字

17
00:00:54,904 --> 00:00:56,503
在PrepareNewGame前面

18
00:00:56,504 --> 00:01:00,843
在这个方法前添加async修饰符

19
00:01:00,844 --> 00:01:05,183
然后我要设置这个“再玩一次”按钮的可见性为

20
00:01:05,184 --> 00:01:10,183
Visibility.Collapsed

21
00:01:12,994 --> 00:01:15,034
接下来

22
00:01:15,035 --> 00:01:17,364
我们要在PrepareNewGame方法里面写什么呢

23
00:01:17,365 --> 00:01:19,734
我们已经把所有歌曲清空

24
00:01:19,735 --> 00:01:22,034
也选取了新的随机的歌曲

25
00:01:22,035 --> 00:01:27,034
并放到了列表里

26
00:01:29,265 --> 00:01:31,760
我觉得做的还不错对吧

27
00:01:31,761 --> 00:01:33,330
那是相当不错呀~~~

28
00:01:33,331 --> 00:01:34,714
那我们就只剩下……

29
00:01:34,715 --> 00:01:39,416
执行StartCooldown方法

30
00:01:41,218 --> 00:01:48,380
我要修改当前文本块的内容

31
00:01:48,380 --> 00:01:53,412
把InstructionTextBlock的文本改为"Get ready ..."

32
00:01:54,873 --> 00:01:59,222
还有ResultTextBlock的文本，我要把它设为

33
00:01:59,223 --> 00:02:02,532
空

34
00:02:02,533 --> 00:02:06,542
TitleTextBlock的文本——空

35
00:02:06,543 --> 00:02:11,252
ArtistTextblock的文本——空

36
00:02:11,253 --> 00:02:16,252
AlbumTextBlock的文本——空

37
00:02:16,393 --> 00:02:18,960
我还要把_totalScore设为0

38
00:02:18,961 --> 00:02:22,798
_round也设为0

39
00:02:22,799 --> 00:02:26,166
这样就差不多啦

40
00:02:26,927 --> 00:02:31,101
还有别的我要做的吗？

41
00:02:34,755 --> 00:02:37,094
理论上，我应该

42
00:02:37,095 --> 00:02:39,214
把这些代码分开

43
00:02:39,215 --> 00:02:41,314
写成一些小的辅助方法（helper method）

44
00:02:41,315 --> 00:02:46,970
用来控制和协同不同的事件

45
00:02:46,975 --> 00:02:49,814
不过我准备就这样（不改）了……

46
00:02:49,815 --> 00:02:54,394
不过就是代码有点长，至少现在来说

47
00:02:54,395 --> 00:02:55,786
我觉得我们差不多做完了

48
00:02:55,787 --> 00:02:59,736
我要玩一局这个小游戏

49
00:03:02,807 --> 00:03:04,134
来测试一下

50
00:03:04,130 --> 00:03:09,244
我会暂停多次，把这里多余的地方剪掉

51
00:03:09,245 --> 00:03:11,824
这样你就不用看我玩了整整五次……

52
00:03:11,825 --> 00:03:15,164
当我们这一局快玩完（要点再玩一次）时

53
00:03:15,165 --> 00:03:17,800
（音乐播放中）

54
00:03:19,779 --> 00:03:22,044
当我们到那个时候

55
00:03:22,045 --> 00:03:25,454
我就会继续，然后

56
00:03:25,455 --> 00:03:29,794
看看重置游戏的时候发生了什么

57
00:03:32,745 --> 00:03:35,454
（音乐播放中）

58
00:03:38,473 --> 00:03:39,650
好吧，到此结束

59
00:03:39,651 --> 00:03:44,616
我五个里面对了三个，总分80

60
00:03:44,617 --> 00:03:46,364
我准备继续

61
00:03:46,365 --> 00:03:50,464
点击再玩一次，然后重置

62
00:03:50,465 --> 00:03:51,972
我们看看

63
00:03:51,973 --> 00:03:54,642
确保都是从新开始的

64
00:04:01,243 --> 00:04:03,290
（音乐播放中）

65
00:04:04,919 --> 00:04:06,600
嗯哼

66
00:04:08,611 --> 00:04:10,790
看起来不错

67
00:04:15,001 --> 00:04:17,830
（音乐播放中）

68
00:04:18,993 --> 00:04:21,202
好吧，我们就退出了

69
00:04:21,203 --> 00:04:22,860
我觉得做的还不错

70
00:04:22,861 --> 00:04:25,286
目前我们下一步就是

71
00:04:25,287 --> 00:04:27,306
添加一些功能

72
00:04:27,307 --> 00:04:29,696
然后用这个游戏来赚钱

73
00:04:29,697 --> 00:04:31,310
我们下一节课再讲吧

74
00:04:31,311 --> 00:04:32,326
谢谢~

